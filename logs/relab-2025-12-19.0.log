2025-12-19 11:15:21,201 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:15:21,245 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 18708 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:15:21,245 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:15:23,051 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:15:23,052 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:15:23,055 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 11:15:23,091 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.182 seconds (process running for 2.945)
2025-12-19 11:15:23,326 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] 
2025-12-19 11:15:23,420 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:15:23,420 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:15:23,702 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:15:23,716 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:15:23,716 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:15:23,716 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:15:23,716 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:15:23,716 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:15:23,716 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:15:23,732 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:15:23,732 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:15:23,732 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:15:23,732 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:15:23,747 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:15:23,747 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:15:23,758 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:15:23,763 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:15:23,763 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:15:23,763 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:15:23,779 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:15:23,779 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:15:23,779 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:15:23,794 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:15:23,826 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 18708 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:15:23,826 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:15:24,012 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:15:24,013 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:15:24,013 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:15:24,018 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.224 seconds (process running for 3.869)
2025-12-19 11:15:24,026 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:15:24,027 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:15:24,060 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:15:24,076 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:15:24,076 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:15:24,076 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:15:24,096 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:15:24,096 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:15:24,107 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:15:24,107 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:15:24,112 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:15:24,112 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:15:24,123 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:15:24,123 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:15:24,125 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:15:24,125 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:15:24,154 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:15:24,162 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:15:24,169 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:15:24,169 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:15:24,214 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:15:24,214 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:15:24,228 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:15:24,228 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:15:24,244 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:15:24,244 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:15:24,244 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:15:24,244 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:15:24,244 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:15:24,244 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:15:24,259 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:15:24,263 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:15:24,267 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:15:24,267 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:15:24,312 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:15:24,312 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:15:24,322 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:15:24,326 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:15:24,326 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:15:24,326 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:15:24,326 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:15:24,326 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:15:24,326 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:15:24,326 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:15:24,344 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:15:24,345 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:15:24,347 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:15:24,351 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:15:24,351 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:15:24,354 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:15:24,357 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:15:24,362 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:15:24,364 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:15:24,367 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:15:24,369 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:15:24,372 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:15:24,372 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:15:24,388 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 18708 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:15:24,388 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:15:24,528 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:15:24,528 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:15:24,528 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:15:24,528 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.156 seconds (process running for 4.391)
2025-12-19 11:15:24,577 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:15:24,578 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:15:24,587 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:15:24,589 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:15:24,591 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:15:24,591 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:15:24,591 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:15:24,591 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:15:24,591 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:15:24,606 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:15:24,613 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:15:24,613 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:15:24,613 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:15:24,613 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:15:24,622 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:15:24,622 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:15:24,622 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:15:24,622 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:15:24,638 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:15:24,638 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:15:24,638 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:15:24,638 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:15:24,638 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:15:24,653 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:15:24,656 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:15:24,669 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:15:24,670 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:15:24,675 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:15:24,676 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:15:24,679 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:15:24,679 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:15:24,685 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:15:24,687 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:15:24,693 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:15:24,694 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:15:24,701 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:15:24,705 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:15:24,705 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:15:24,716 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:15:24,721 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 18708 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:15:24,721 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:15:24,875 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:15:24,875 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:15:24,875 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:15:24,875 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.159 seconds (process running for 4.73)
2025-12-19 11:15:24,875 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:24,875 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:15:24,890 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:15:24,890 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:15:24,935 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:15:24,935 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:15:24,935 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:15:24,935 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:15:24,951 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:24,951 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:15:24,951 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:24,951 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:15:24,951 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:15:24,951 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:15:24,966 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:15:24,966 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:15:24,973 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:15:24,973 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:15:24,973 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:15:24,973 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:15:24,982 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:15:24,982 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:15:24,982 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@17d25e1d,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] 
2025-12-19 11:15:24,982 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:15:24,982 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:15:24,998 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:15:24,998 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:15:25,002 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:15:25,002 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:25,016 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:15:25,016 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:15:25,020 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:25,022 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:25,024 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:15:25,026 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:15:25,028 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:25,028 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:15:25,028 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:15:25,028 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:15:25,028 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:17:34,979 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:17:35,007 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 2836 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:17:35,007 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:17:37,075 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:17:37,075 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:17:37,075 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:17:37,138 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.422 seconds (process running for 3.214)
2025-12-19 11:17:37,421 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:17:37,436 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:17:37,498 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:17:37,550 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:17:37,552 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:17:37,841 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:17:37,857 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:17:37,857 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:17:37,857 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:17:37,857 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:17:37,872 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:17:37,875 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:17:37,880 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:17:37,884 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:17:37,894 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:17:37,894 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:17:37,901 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:17:37,904 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:17:37,904 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:17:37,904 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:17:37,917 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:17:37,918 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:17:37,921 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:17:37,921 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:17:37,921 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:17:37,935 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:17:37,966 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 2836 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:17:37,966 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:17:38,159 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:17:38,169 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:17:38,169 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:17:38,169 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.234 seconds (process running for 4.247)
2025-12-19 11:17:38,169 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:17:38,169 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:17:38,224 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 11:17:38,231 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:17:38,239 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:17:38,239 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:17:38,247 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:17:38,247 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:17:38,254 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:17:38,254 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:17:38,262 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:17:38,262 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:17:38,262 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:17:38,262 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:17:38,262 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:17:38,262 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:17:38,302 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:17:38,302 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:17:38,310 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:17:38,310 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:17:38,357 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:17:38,357 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:17:38,357 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:17:38,357 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:17:38,357 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:17:38,357 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:17:38,372 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:17:38,372 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:17:38,372 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:17:38,372 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:17:38,386 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:17:38,388 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:17:38,388 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:17:38,397 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:17:38,397 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:17:38,399 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:17:38,404 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:17:38,404 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:17:38,404 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:17:38,464 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:17:38,469 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:17:38,475 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:17:38,479 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:17:38,479 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:17:38,479 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:17:38,479 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:17:38,479 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:17:38,494 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:17:38,494 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:17:38,494 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:17:38,494 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:17:38,510 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:17:38,510 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:17:38,516 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:17:38,520 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:17:38,520 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:17:38,526 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:17:38,526 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:17:38,526 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:17:38,526 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:17:38,545 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:17:38,551 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:17:38,560 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 2836 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:17:38,560 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:17:38,701 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:17:38,701 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:17:38,701 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:17:38,717 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.163 seconds (process running for 4.791)
2025-12-19 11:17:38,733 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:17:38,749 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:17:38,755 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:17:38,755 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:17:38,765 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:17:38,766 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:17:38,772 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:17:38,774 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:17:38,779 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:17:38,779 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:17:38,779 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:17:38,779 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:17:38,794 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:17:38,794 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:17:38,798 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:17:38,798 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:17:38,798 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:17:38,798 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:17:38,813 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:17:38,814 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:17:38,817 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:17:38,817 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:17:38,817 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:17:38,826 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:17:38,826 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:17:38,842 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:17:38,842 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:17:38,842 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:17:38,842 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:17:38,858 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:17:38,858 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:17:38,858 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:17:38,858 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:17:38,875 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:17:38,876 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:17:38,887 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:17:38,888 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:17:38,888 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:17:38,888 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:17:38,903 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 2836 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:17:38,903 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:17:39,060 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:17:39,060 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:17:39,060 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:17:39,060 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.172 seconds (process running for 5.145)
2025-12-19 11:17:39,076 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,076 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:17:39,091 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:17:39,091 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:17:39,123 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:17:39,123 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:17:39,139 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:17:39,139 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:17:39,139 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,139 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:17:39,139 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,139 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:17:39,155 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:17:39,155 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:17:39,155 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:17:39,164 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:17:39,167 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:17:39,167 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:17:39,170 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:17:39,170 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:17:39,170 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:17:39,170 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:17:39,170 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@6bab8290,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] 
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:17:39,186 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:17:39,186 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:17:39,186 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:17:39,186 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:17:39,202 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:17:39,206 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,209 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:17:39,209 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:17:39,212 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,215 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,217 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:17:39,217 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:17:39,217 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,217 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:17:39,217 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:17:39,226 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:17:39,226 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:21:26,185 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:21:26,229 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 11848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:21:26,229 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:21:27,922 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:21:27,923 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:21:27,927 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 11:21:27,967 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.025 seconds (process running for 2.72)
2025-12-19 11:21:28,186 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:21:28,186 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:21:28,247 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:21:28,247 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:21:28,283 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:21:28,284 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:21:28,295 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] 
2025-12-19 11:21:28,310 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:21:28,310 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:21:28,562 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:21:28,562 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:21:28,562 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:21:28,583 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:21:28,584 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:21:28,584 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:21:28,584 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:21:28,593 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:21:28,593 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:21:28,609 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:21:28,609 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:21:28,621 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:21:28,621 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:21:28,625 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:21:28,625 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:21:28,625 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:21:28,625 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:21:28,640 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:21:28,640 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:21:28,640 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:21:28,656 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:21:28,669 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 11848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:21:28,669 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:21:28,841 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:21:28,841 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:21:28,841 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:21:28,860 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.201 seconds (process running for 3.613)
2025-12-19 11:21:28,865 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:21:28,866 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:21:28,892 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 11:21:28,903 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:21:28,903 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:21:28,903 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:21:28,924 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:21:28,929 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:21:28,935 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:21:28,935 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:21:28,935 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:21:28,935 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:21:28,935 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:21:28,951 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:21:28,951 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:21:28,951 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:21:28,978 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:21:28,979 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:21:28,990 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:21:28,991 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:21:29,029 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:21:29,029 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:21:29,029 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:21:29,029 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:21:29,029 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:21:29,042 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:21:29,044 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:21:29,046 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:21:29,050 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:21:29,050 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:21:29,050 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:21:29,061 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:21:29,064 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:21:29,066 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:21:29,066 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:21:29,066 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:21:29,066 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:21:29,066 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:21:29,082 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:21:29,122 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:21:29,122 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:21:29,122 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:21:29,140 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:21:29,140 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:21:29,140 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:21:29,140 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:21:29,140 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:21:29,140 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:21:29,152 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:21:29,152 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:21:29,152 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:21:29,152 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:21:29,152 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:21:29,152 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:21:29,167 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:21:29,167 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:21:29,167 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:21:29,167 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:21:29,167 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:21:29,183 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:21:29,183 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:21:29,183 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:21:29,202 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 11848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:21:29,202 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:21:29,357 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:21:29,357 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:21:29,357 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:21:29,357 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.158 seconds (process running for 4.116)
2025-12-19 11:21:29,391 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:21:29,393 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:21:29,406 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:21:29,407 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:21:29,412 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:21:29,413 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:21:29,418 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:21:29,419 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:21:29,422 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:21:29,422 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:21:29,435 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:21:29,435 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:21:29,435 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:21:29,435 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:21:29,435 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:21:29,451 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:21:29,451 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:21:29,451 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:21:29,459 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:21:29,460 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:21:29,464 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:21:29,464 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:21:29,466 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:21:29,466 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:21:29,482 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:21:29,482 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:21:29,482 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:21:29,498 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:21:29,498 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:21:29,498 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:21:29,498 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:21:29,514 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:21:29,517 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:21:29,524 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:21:29,525 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:21:29,528 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:21:29,528 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:21:29,528 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:21:29,546 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:21:29,560 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 11848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:21:29,560 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:21:29,680 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:21:29,695 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:21:29,695 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:21:29,695 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.147 seconds (process running for 4.453)
2025-12-19 11:21:29,695 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,695 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:21:29,712 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:21:29,712 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:21:29,739 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:21:29,747 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:21:29,747 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:21:29,747 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:21:29,747 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,747 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:21:29,763 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,763 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:21:29,773 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:21:29,775 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:21:29,779 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:21:29,779 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:21:29,779 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:21:29,779 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:21:29,779 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:21:29,779 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:21:29,794 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:21:29,794 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:21:29,802 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@15c8b75c,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:21:29,808 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:21:29,810 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:21:29,810 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:21:29,810 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:21:29,816 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:21:29,818 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:21:29,820 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:21:29,823 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:21:29,823 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:21:29,826 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:21:29,829 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,832 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:21:29,832 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:21:29,836 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,838 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,840 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:21:29,844 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:21:29,846 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,846 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:21:29,846 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:21:29,846 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:21:29,846 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:25:59,998 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:26:00,033 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 11008 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:26:00,033 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:26:01,899 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:26:01,900 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:26:01,903 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 2 ms
2025-12-19 11:26:01,940 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.224 seconds (process running for 2.936)
2025-12-19 11:26:02,178 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:26:02,183 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:26:02,237 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,239 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:02,258 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:26:02,261 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:26:02,374 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:26:02,375 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:26:02,398 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] 
2025-12-19 11:26:02,407 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,409 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:26:02,433 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,435 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:26:02,440 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:26:02,440 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:26:02,750 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:26:02,778 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:26:02,779 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:26:02,786 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:26:02,787 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:26:02,794 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:26:02,800 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,806 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:26:02,810 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:26:02,820 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:26:02,821 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:26:02,836 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,840 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:26:02,846 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:26:02,850 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:26:02,857 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:26:02,859 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:26:02,863 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:26:02,864 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:26:02,875 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:26:02,884 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:26:02,905 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 11008 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:26:02,906 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:26:03,096 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:26:03,096 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:26:03,096 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:26:03,096 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.21 seconds (process running for 4.098)
2025-12-19 11:26:03,096 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:26:03,096 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:26:03,127 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:26:03,150 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:26:03,164 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:26:03,165 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:26:03,169 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:26:03,169 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:26:03,169 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:26:03,183 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:26:03,185 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:26:03,185 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:26:03,185 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:26:03,185 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:26:03,198 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:26:03,200 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:26:03,216 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:26:03,216 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:26:03,224 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:26:03,224 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:26:03,276 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:26:03,277 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:26:03,278 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:26:03,278 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:26:03,294 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:26:03,294 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:26:03,294 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:26:03,294 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:26:03,294 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:26:03,309 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:26:03,313 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:26:03,313 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:26:03,313 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:26:03,313 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:26:03,373 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:26:03,376 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:26:03,379 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:26:03,382 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:26:03,383 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:26:03,386 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:26:03,387 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:26:03,392 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:26:03,393 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:26:03,396 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:26:03,401 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:26:03,402 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:26:03,405 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:26:03,409 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:26:03,410 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:26:03,413 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:26:03,415 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:26:03,421 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:26:03,424 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:26:03,427 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:26:03,429 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:26:03,434 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:26:03,441 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:26:03,454 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 11008 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:26:03,455 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:26:03,608 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:26:03,608 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:26:03,609 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:26:03,615 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.173 seconds (process running for 4.611)
2025-12-19 11:26:03,647 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:26:03,650 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:26:03,659 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:26:03,660 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:26:03,664 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:26:03,665 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:26:03,669 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:26:03,671 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:03,677 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:26:03,678 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:26:03,687 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:26:03,689 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:26:03,693 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:26:03,695 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:26:03,701 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:26:03,701 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:26:03,706 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:26:03,707 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:26:03,710 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:26:03,711 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:26:03,716 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:26:03,717 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:26:03,721 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:26:03,726 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:26:03,739 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:26:03,751 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:26:03,752 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:26:03,756 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:26:03,758 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:26:03,761 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:26:03,762 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:26:03,768 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:26:03,770 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:26:03,778 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:26:03,779 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:26:03,793 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:26:03,794 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:26:03,800 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:26:03,805 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:26:03,818 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 11008 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:26:03,818 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:26:03,961 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:26:03,961 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:26:03,962 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:26:03,966 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.159 seconds (process running for 4.962)
2025-12-19 11:26:03,973 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:03,974 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:26:03,982 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:26:03,984 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:04,016 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:26:04,017 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:26:04,027 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:26:04,028 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:26:04,033 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,034 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:04,037 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,038 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:26:04,043 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:26:04,045 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:26:04,051 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:26:04,052 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:04,057 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:26:04,057 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:26:04,062 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:26:04,063 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:26:04,067 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:26:04,069 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:26:04,075 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@360d0c7a,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:26:04,092 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:26:04,093 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:26:04,096 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:26:04,097 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:26:04,101 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:26:04,101 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:26:04,105 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:26:04,108 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:26:04,109 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:26:04,112 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:26:04,115 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,118 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:26:04,118 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:26:04,121 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,123 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,127 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:26:04,128 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:26:04,130 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,133 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:26:04,136 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:26:04,138 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:26:04,139 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:28:40,987 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:28:41,014 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 12544 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:28:41,014 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:28:43,099 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:28:43,100 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:28:43,104 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 11:28:43,155 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.423 seconds (process running for 3.185)
2025-12-19 11:28:43,435 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:28:43,435 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:28:43,493 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:28:43,495 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:43,506 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:28:43,512 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:28:43,528 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:28:43,607 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:28:43,607 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:28:43,623 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:28:43,639 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:28:43,644 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] 
2025-12-19 11:28:43,644 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:28:43,644 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:28:43,676 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:28:43,678 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:28:43,684 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:28:43,684 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:28:43,692 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:28:43,694 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:28:43,966 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:28:43,991 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:28:43,991 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:28:44,000 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:28:44,001 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:28:44,005 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:28:44,008 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:28:44,012 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:28:44,017 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:28:44,025 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:28:44,026 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:28:44,028 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:28:44,028 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:28:44,028 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:28:44,028 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:28:44,044 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:28:44,044 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:28:44,044 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:28:44,044 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:28:44,059 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:28:44,059 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:28:44,091 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 12544 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:28:44,091 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:28:44,278 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:28:44,278 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:28:44,278 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:28:44,278 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.219 seconds (process running for 4.317)
2025-12-19 11:28:44,291 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:28:44,294 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:28:44,319 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:28:44,326 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:28:44,326 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:28:44,341 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:28:44,350 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:28:44,351 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:28:44,355 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:28:44,356 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:28:44,356 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:28:44,356 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:28:44,372 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:28:44,372 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:28:44,372 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:28:44,372 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:28:44,391 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:28:44,391 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:28:44,403 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:28:44,403 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:28:44,439 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:28:44,439 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:28:44,439 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:28:44,439 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:28:44,453 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:28:44,456 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:28:44,459 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:28:44,460 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:28:44,462 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:28:44,466 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:28:44,466 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:28:44,466 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:28:44,466 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:28:44,466 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:28:44,466 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:28:44,466 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:28:44,482 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:28:44,488 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:28:44,490 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:28:44,529 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:28:44,529 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:28:44,529 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:28:44,546 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:28:44,547 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:28:44,552 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:28:44,552 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:28:44,556 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:28:44,557 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:28:44,560 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:28:44,564 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:28:44,565 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:28:44,568 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:28:44,571 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:28:44,572 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:28:44,575 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:28:44,591 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:28:44,591 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:28:44,615 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 12544 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:28:44,615 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:28:44,779 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:28:44,779 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:28:44,779 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:28:44,794 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.203 seconds (process running for 4.825)
2025-12-19 11:28:44,822 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:28:44,822 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:28:44,826 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:28:44,826 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:28:44,841 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:28:44,841 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:28:44,841 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:28:44,841 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:44,841 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:28:44,841 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:28:44,863 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:28:44,863 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:28:44,863 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:28:44,863 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:28:44,876 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:28:44,877 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:28:44,881 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:28:44,881 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:28:44,885 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:28:44,886 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:28:44,891 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:28:44,891 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:28:44,891 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:28:44,891 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:28:44,904 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:28:44,920 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:28:44,920 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:28:44,920 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:28:44,920 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:28:44,920 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:28:44,920 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:28:44,939 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:28:44,941 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:28:44,951 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:28:44,951 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:28:44,967 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:28:44,968 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:28:44,977 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:28:44,991 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:28:44,997 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 12544 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:28:44,997 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:28:45,200 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:28:45,200 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:28:45,200 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:28:45,200 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.206 seconds (process running for 5.243)
2025-12-19 11:28:45,215 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,215 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:28:45,226 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:28:45,226 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:45,247 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:28:45,262 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:28:45,262 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:28:45,262 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:28:45,278 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,278 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:45,278 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,278 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:28:45,278 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:28:45,291 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:28:45,294 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:28:45,294 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:45,294 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:28:45,294 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:28:45,294 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:28:45,294 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:28:45,294 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:28:45,294 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:28:45,312 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@64b0ec4a,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:28:45,321 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:28:45,324 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:28:45,328 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:28:45,328 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:28:45,328 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:28:45,328 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:28:45,328 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:28:45,328 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:28:45,328 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,340 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,356 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:28:45,356 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:28:45,356 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,356 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:28:45,356 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:28:45,356 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:28:45,356 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:29:45,576 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:29:45,605 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 10336 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:29:45,605 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:29:47,326 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:29:47,326 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:29:47,326 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:29:47,372 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.047 seconds (process running for 2.733)
2025-12-19 11:29:47,513 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 11:29:47,519 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:29:47,698 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:29:47,699 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:29:47,700 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:29:47,700 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:47,716 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:29:47,731 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:29:47,741 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 11:29:47,741 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 11:29:47,764 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:29:47,826 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:29:47,827 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:29:47,841 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:29:47,841 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:29:47,841 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] 
2025-12-19 11:29:47,857 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:29:47,857 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:29:47,882 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:29:47,882 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:29:47,888 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:29:47,888 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:29:47,888 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:29:47,888 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:29:48,184 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:29:48,187 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:29:48,187 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:29:48,199 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:29:48,200 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:29:48,203 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:29:48,203 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:29:48,203 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:29:48,203 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:29:48,220 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:29:48,220 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:29:48,228 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:29:48,231 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:29:48,235 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:29:48,238 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:29:48,244 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:29:48,245 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:29:48,247 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:29:48,247 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:29:48,247 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:29:48,265 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:29:48,280 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 10336 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:29:48,288 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:29:48,467 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:29:48,467 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:29:48,482 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:29:48,488 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.219 seconds (process running for 3.85)
2025-12-19 11:29:48,488 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:29:48,488 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:29:48,515 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:29:48,531 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:29:48,545 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:29:48,545 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:29:48,549 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:29:48,549 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:29:48,549 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:29:48,549 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:29:48,565 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:29:48,567 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:29:48,571 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:29:48,572 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:29:48,575 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:29:48,575 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:29:48,590 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:29:48,590 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:29:48,590 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:29:48,590 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:29:48,633 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:29:48,638 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:29:48,638 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:29:48,638 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:29:48,638 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:29:48,638 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:29:48,638 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:29:48,638 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:29:48,652 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:29:48,657 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:29:48,657 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:29:48,657 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:29:48,657 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:29:48,657 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:29:48,657 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:29:48,657 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:29:48,676 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:29:48,680 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:29:48,680 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:29:48,717 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:29:48,717 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:29:48,717 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:29:48,717 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:29:48,733 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:29:48,733 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:29:48,733 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:29:48,733 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:29:48,733 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:29:48,747 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:29:48,749 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:29:48,749 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:29:48,749 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:29:48,749 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:29:48,749 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:29:48,749 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:29:48,769 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:29:48,775 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:29:48,778 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:29:48,781 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:29:48,783 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:29:48,788 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:29:48,794 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:29:48,794 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 10336 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:29:48,794 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:29:48,950 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:29:48,950 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:29:48,950 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:29:48,950 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.156 seconds (process running for 4.318)
2025-12-19 11:29:48,988 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:29:48,988 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:29:48,997 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:29:48,997 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:29:48,997 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:29:48,997 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:29:48,997 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:29:48,997 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:49,013 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:29:49,013 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:29:49,013 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:29:49,013 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:29:49,029 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:29:49,029 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:29:49,029 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:29:49,029 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:29:49,029 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:29:49,029 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:29:49,044 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:29:49,044 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:29:49,044 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:29:49,044 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:29:49,044 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:29:49,060 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:29:49,076 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:29:49,076 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:29:49,076 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:29:49,089 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:29:49,093 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:29:49,096 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:29:49,097 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:29:49,101 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:29:49,103 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:29:49,110 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:29:49,110 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:29:49,122 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:29:49,122 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:29:49,122 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:29:49,122 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:29:49,138 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 10336 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:29:49,138 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:29:49,289 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:29:49,289 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:29:49,289 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:29:49,295 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.157 seconds (process running for 4.658)
2025-12-19 11:29:49,295 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,295 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:29:49,311 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:29:49,311 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:49,345 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:29:49,346 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:29:49,355 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:29:49,356 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:29:49,356 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,360 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:49,363 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,364 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:29:49,364 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:29:49,364 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:29:49,372 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:29:49,372 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:49,372 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:29:49,372 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:29:49,372 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:29:49,372 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:29:49,387 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:29:49,389 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:29:49,389 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@8929865,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:29:49,389 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:29:49,403 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:29:49,403 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:29:49,403 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:29:49,403 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:29:49,403 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:29:49,403 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:29:49,403 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:29:49,403 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,419 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,438 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:29:49,439 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:29:49,441 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,443 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:29:49,445 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:29:49,447 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:29:49,448 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:44:01,084 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:44:01,114 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 3152 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:44:01,114 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:44:02,804 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:44:02,804 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:44:02,804 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:44:02,844 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.01 seconds (process running for 2.701)
2025-12-19 11:44:03,003 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 11:44:03,013 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:44:03,165 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:44:03,166 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:44:03,175 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,175 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:03,194 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:44:03,194 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:44:03,203 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 11:44:03,203 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 11:44:03,232 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:44:03,284 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:44:03,284 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:44:03,304 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:44:03,304 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:44:03,315 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:44:03,319 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,321 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:44:03,333 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,341 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:44:03,344 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:44:03,344 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:44:03,354 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:44:03,357 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:44:03,607 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:44:03,614 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:44:03,614 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:44:03,614 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:44:03,614 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:44:03,614 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:44:03,614 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,628 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:44:03,634 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:44:03,634 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:44:03,634 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:44:03,649 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,653 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:44:03,653 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:44:03,660 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:44:03,664 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:44:03,664 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:44:03,664 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:44:03,664 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:44:03,676 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:44:03,694 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:44:03,714 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 3152 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:44:03,714 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:44:03,912 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:44:03,913 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:44:03,914 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:44:03,919 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.223 seconds (process running for 3.768)
2025-12-19 11:44:03,925 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:44:03,926 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:44:03,952 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 11:44:03,966 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:44:03,972 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:44:03,973 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:44:03,979 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:44:03,980 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:44:03,985 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:44:03,987 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:44:03,991 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:44:03,992 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:44:03,995 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:44:03,996 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:44:04,000 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:44:04,002 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:44:04,018 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:44:04,019 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:44:04,024 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:44:04,024 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:44:04,064 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:44:04,064 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:44:04,064 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:44:04,064 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:44:04,064 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:44:04,073 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:44:04,078 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:44:04,078 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:44:04,084 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:44:04,084 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:44:04,084 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:44:04,093 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:44:04,093 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:44:04,093 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:44:04,093 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:44:04,093 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:44:04,104 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:44:04,108 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:44:04,108 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:44:04,114 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:44:04,118 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 11:44:04,136 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 3152 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:44:04,137 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:44:04,304 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:44:04,304 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:44:04,304 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:44:04,314 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.19 seconds (process running for 4.162)
2025-12-19 11:44:04,324 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 11:44:04,324 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 11:44:04,331 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 11:44:04,334 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:44:04,334 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 11:44:04,373 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:44:04,373 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:44:04,384 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:44:04,388 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:44:04,388 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:44:04,394 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:44:04,394 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:44:04,394 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:44:04,394 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:44:04,394 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:44:04,404 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:44:04,404 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:44:04,404 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:44:04,414 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:44:04,414 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:44:04,419 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:44:04,419 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:44:04,424 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:44:04,424 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:44:04,432 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:44:04,434 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:44:04,435 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:44:04,444 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:44:04,458 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 3152 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:44:04,459 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:44:04,604 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:44:04,607 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:44:04,607 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:44:04,607 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.163 seconds (process running for 4.46)
2025-12-19 11:44:04,639 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:44:04,644 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:44:04,654 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:44:04,657 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:44:04,661 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:44:04,662 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:44:04,666 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:44:04,666 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:04,673 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:44:04,673 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:44:04,683 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:44:04,684 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:44:04,686 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:44:04,686 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:44:04,686 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:44:04,686 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:44:04,694 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:44:04,694 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:44:04,700 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:44:04,704 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:44:04,704 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:44:04,704 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:44:04,704 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:44:04,716 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:44:04,724 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:44:04,736 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:44:04,736 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:44:04,736 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:44:04,744 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:44:04,746 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:44:04,746 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:44:04,751 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:44:04,754 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:44:04,754 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:44:04,754 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:44:04,767 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:44:04,767 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:44:04,774 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:44:04,778 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:44:04,792 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 3152 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:44:04,793 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:44:04,935 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:44:04,935 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:44:04,935 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:44:04,944 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.166 seconds (process running for 4.793)
2025-12-19 11:44:04,951 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:04,951 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:44:04,953 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:44:04,964 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:04,995 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:44:04,996 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:44:05,005 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:44:05,006 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:44:05,010 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,011 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:05,014 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,014 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:44:05,014 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:44:05,014 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:44:05,024 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:44:05,024 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:05,029 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:44:05,029 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:44:05,035 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:44:05,035 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:44:05,035 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:44:05,035 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:44:05,045 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@2dacad1d,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] 
2025-12-19 11:44:05,054 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:44:05,055 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:44:05,057 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:44:05,057 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:44:05,060 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:44:05,060 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:44:05,064 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:44:05,064 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:44:05,064 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:44:05,064 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:44:05,076 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,076 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:44:05,076 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:44:05,076 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,084 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,084 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:44:05,084 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:44:05,084 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,094 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:44:05,094 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:44:05,094 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:44:05,094 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:48:12,203 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:48:12,230 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 17912 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:48:12,233 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:48:13,998 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:48:13,998 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:48:14,003 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 5 ms
2025-12-19 11:48:14,045 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.103 seconds (process running for 2.81)
2025-12-19 11:48:14,155 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 11:48:14,157 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:48:14,347 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:48:14,348 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:48:14,359 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,363 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:14,373 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:48:14,373 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:48:14,387 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 11:48:14,387 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 11:48:14,413 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:48:14,469 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:48:14,477 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:48:14,493 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:48:14,493 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:48:14,498 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] 
2025-12-19 11:48:14,503 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,503 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:48:14,525 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,525 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:48:14,532 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:48:14,533 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:48:14,537 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:48:14,537 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:48:14,792 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:48:14,794 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:48:14,794 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:48:14,803 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:48:14,803 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:48:14,810 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:48:14,813 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,813 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:48:14,813 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:48:14,826 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:48:14,826 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:48:14,833 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,833 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:48:14,833 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:48:14,843 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:48:14,843 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:48:14,843 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:48:14,853 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:48:14,853 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:48:14,858 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:48:14,863 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:48:14,890 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 17912 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:48:14,890 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:48:15,085 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:48:15,085 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:48:15,085 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:48:15,095 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.232 seconds (process running for 3.858)
2025-12-19 11:48:15,095 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:48:15,103 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:48:15,123 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 11:48:15,139 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:48:15,143 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:48:15,143 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:48:15,143 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:48:15,143 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:48:15,153 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:48:15,158 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:48:15,161 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:48:15,163 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:48:15,163 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:48:15,169 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:48:15,173 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:48:15,173 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:48:15,193 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:48:15,193 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:48:15,200 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:48:15,200 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:48:15,233 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:48:15,243 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:48:15,243 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:48:15,243 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:48:15,252 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:48:15,253 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:48:15,258 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:48:15,258 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:48:15,263 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:48:15,263 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:48:15,268 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:48:15,268 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:48:15,273 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:48:15,273 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:48:15,273 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:48:15,273 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:48:15,283 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:48:15,287 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:48:15,289 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:48:15,293 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:48:15,293 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 11:48:15,313 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 17912 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:48:15,313 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:48:15,460 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:48:15,461 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:48:15,461 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:48:15,466 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.166 seconds (process running for 4.227)
2025-12-19 11:48:15,475 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 11:48:15,476 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 11:48:15,482 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 11:48:15,483 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:48:15,489 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:48:15,490 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 11:48:15,494 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 11:48:15,496 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:15,500 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 11:48:15,543 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:48:15,548 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:48:15,551 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:48:15,554 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:48:15,555 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:48:15,558 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:48:15,558 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:48:15,563 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:48:15,563 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:48:15,563 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:48:15,573 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:48:15,573 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:48:15,575 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:48:15,575 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:48:15,575 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:48:15,583 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:48:15,583 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:48:15,583 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:48:15,593 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:48:15,594 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:48:15,594 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:48:15,594 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:48:15,606 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:48:15,613 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 17912 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:48:15,622 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:48:15,776 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:48:15,777 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:48:15,778 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 11:48:15,783 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.177 seconds (process running for 4.545)
2025-12-19 11:48:15,813 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:48:15,815 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:48:15,823 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:48:15,823 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:48:15,826 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:48:15,826 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:48:15,833 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:48:15,833 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:15,843 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:48:15,843 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:48:15,843 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:48:15,853 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:48:15,853 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:48:15,853 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:48:15,862 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:48:15,863 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:48:15,867 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:48:15,868 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:48:15,871 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:48:15,873 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:48:15,877 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:48:15,878 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:48:15,883 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:48:15,887 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:48:15,899 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:48:15,903 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:48:15,904 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:48:15,910 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:48:15,913 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:48:15,913 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:48:15,913 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:48:15,923 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:48:15,926 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:48:15,933 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:48:15,933 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:48:15,943 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:48:15,943 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:48:15,943 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:48:15,953 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:48:15,963 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 17912 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:48:15,963 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:48:16,103 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:48:16,103 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:48:16,104 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 11:48:16,106 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.153 seconds (process running for 4.868)
2025-12-19 11:48:16,113 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,113 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:48:16,122 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:48:16,123 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:16,143 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:48:16,153 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:48:16,159 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:48:16,163 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:48:16,163 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,163 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:16,169 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,169 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:48:16,173 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:48:16,173 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:48:16,183 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:48:16,183 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:16,185 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:48:16,185 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:48:16,185 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:48:16,185 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:48:16,193 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:48:16,193 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:48:16,201 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@55e75ce0,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:48:16,207 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:48:16,208 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:48:16,211 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:48:16,211 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:48:16,214 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:48:16,214 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:48:16,216 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:48:16,216 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:48:16,216 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:48:16,223 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:48:16,223 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,223 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:48:16,223 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:48:16,232 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,233 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,237 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:48:16,237 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:48:16,237 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,237 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:48:16,243 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:48:16,243 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:48:16,247 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:53:35,430 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:53:35,459 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 6392 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:53:35,460 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:53:37,279 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:53:37,279 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:53:37,279 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:53:37,330 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.149 seconds (process running for 2.79)
2025-12-19 11:53:37,460 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 11:53:37,480 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:53:37,620 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:53:37,620 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:53:37,630 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:53:37,630 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:37,650 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:53:37,650 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:53:37,659 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 11:53:37,659 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 11:53:37,680 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:53:37,720 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:53:37,720 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:53:37,740 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:53:37,740 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:53:37,749 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] 
2025-12-19 11:53:37,749 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:53:37,749 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:53:37,770 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:53:37,770 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:53:37,783 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:53:37,783 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:53:37,783 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:53:37,790 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:53:38,039 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:53:38,050 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:53:38,050 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:53:38,056 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:53:38,056 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:53:38,060 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:53:38,063 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:53:38,063 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:53:38,070 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:53:38,070 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:53:38,070 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:53:38,080 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:53:38,080 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:53:38,080 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:53:38,090 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:53:38,093 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:53:38,093 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:53:38,100 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:53:38,100 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:53:38,100 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:53:38,110 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:53:38,137 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 6392 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:53:38,137 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:53:38,310 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:53:38,310 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:53:38,310 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:53:38,322 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.212 seconds (process running for 3.784)
2025-12-19 11:53:38,322 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:53:38,322 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:53:38,352 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:53:38,360 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:53:38,373 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:53:38,373 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:53:38,380 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:53:38,380 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:53:38,389 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:53:38,389 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:53:38,389 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:53:38,389 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:53:38,400 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:53:38,400 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:53:38,404 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:53:38,404 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:53:38,420 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:53:38,420 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:53:38,429 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:53:38,431 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:53:38,468 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:53:38,469 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:53:38,471 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:53:38,472 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:53:38,474 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:53:38,477 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:53:38,482 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:53:38,483 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:53:38,486 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:53:38,489 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:53:38,492 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:53:38,495 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:53:38,496 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:53:38,500 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:53:38,501 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:53:38,504 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:53:38,507 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:53:38,511 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:53:38,511 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:53:38,512 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:53:38,520 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 11:53:38,530 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 6392 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:53:38,530 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:53:38,678 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:53:38,678 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:53:38,679 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:53:38,683 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.163 seconds (process running for 4.144)
2025-12-19 11:53:38,690 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 11:53:38,690 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 11:53:38,690 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 11:53:38,700 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:53:38,700 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:53:38,700 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 11:53:38,710 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 11:53:38,710 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 11:53:38,716 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 11:53:38,720 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 11:53:38,720 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 11:53:38,720 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 11:53:38,732 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:53:38,732 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 11:53:38,732 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 11:53:38,740 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 11:53:38,740 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 11:53:38,740 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 11:53:38,740 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:38,750 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 11:53:38,789 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:53:38,793 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:53:38,794 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:53:38,799 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:53:38,799 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:53:38,799 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:53:38,799 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:53:38,799 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:53:38,799 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:53:38,809 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:53:38,810 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:53:38,810 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:53:38,810 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:53:38,820 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:53:38,820 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:53:38,820 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:53:38,826 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:53:38,830 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:53:38,830 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:53:38,830 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:53:38,830 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:53:38,842 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:53:38,842 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:53:38,860 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 6392 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:53:38,860 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:53:39,003 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:53:39,004 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:53:39,005 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:53:39,009 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.159 seconds (process running for 4.47)
2025-12-19 11:53:39,030 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:53:39,040 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:53:39,049 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:53:39,049 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:53:39,049 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:53:39,049 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:53:39,060 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:53:39,060 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:39,069 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:53:39,070 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:53:39,076 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:53:39,076 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:53:39,080 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:53:39,080 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:53:39,080 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:53:39,090 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:53:39,092 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:53:39,092 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:53:39,099 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:53:39,099 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:53:39,099 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:53:39,099 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:53:39,110 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:53:39,115 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:53:39,122 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:53:39,130 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:53:39,130 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:53:39,138 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:53:39,140 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:53:39,140 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:53:39,140 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:53:39,140 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:53:39,140 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:53:39,154 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:53:39,154 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:53:39,160 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:53:39,160 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:53:39,160 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:53:39,170 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:53:39,180 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 6392 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:53:39,180 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:53:39,311 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:53:39,311 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:53:39,311 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:53:39,320 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.15 seconds (process running for 4.781)
2025-12-19 11:53:39,320 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,327 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:53:39,337 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:53:39,338 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:39,360 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:53:39,360 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:53:39,374 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:53:39,374 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:53:39,379 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,379 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:39,379 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,379 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:53:39,389 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:53:39,389 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:53:39,389 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:53:39,389 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:39,400 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:53:39,400 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:53:39,405 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:53:39,405 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:53:39,409 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:53:39,413 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:53:39,421 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@77228160,.*]; default message [El formato de email no es válido]] 
2025-12-19 11:53:39,430 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:53:39,430 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:53:39,435 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:53:39,435 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:53:39,438 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:53:39,438 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:53:39,441 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:53:39,444 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:53:39,445 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:53:39,447 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:53:39,449 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,451 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:53:39,451 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:53:39,451 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,451 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,460 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:53:39,460 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:53:39,460 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,460 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:53:39,467 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:53:39,467 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:53:39,470 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 11:56:57,823 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 11:56:57,857 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 26088 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:56:57,858 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:56:59,576 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:56:59,576 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:56:59,576 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:56:59,618 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.047 seconds (process running for 2.713)
2025-12-19 11:56:59,821 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 11:56:59,841 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:56:59,981 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:56:59,985 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:56:59,997 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 11:56:59,997 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:00,016 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 11:57:00,016 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:57:00,029 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 11:57:00,029 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 11:57:00,053 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:57:00,102 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 11:57:00,102 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 11:57:00,111 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 11:57:00,111 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 11:57:00,123 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:57:00,131 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 11:57:00,131 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 11:57:00,157 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:57:00,159 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 11:57:00,165 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 11:57:00,166 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 11:57:00,171 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 11:57:00,172 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 11:57:00,434 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 11:57:00,441 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 11:57:00,441 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 11:57:00,449 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:57:00,451 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 11:57:00,453 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 11:57:00,453 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 11:57:00,462 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 11:57:00,462 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 11:57:00,471 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 11:57:00,471 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 11:57:00,481 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 11:57:00,481 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 11:57:00,481 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 11:57:00,491 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 11:57:00,491 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 11:57:00,497 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 11:57:00,497 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 11:57:00,497 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 11:57:00,503 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:57:00,513 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 11:57:00,531 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 26088 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:57:00,531 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:57:00,733 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:57:00,733 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:57:00,733 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:57:00,733 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.212 seconds (process running for 3.836)
2025-12-19 11:57:00,741 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 11:57:00,746 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 11:57:00,765 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:57:00,782 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 11:57:00,791 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 11:57:00,791 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 11:57:00,799 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 11:57:00,800 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 11:57:00,805 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 11:57:00,806 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:57:00,812 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 11:57:00,813 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:57:00,820 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 11:57:00,822 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 11:57:00,825 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 11:57:00,825 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:57:00,841 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:57:00,846 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 11:57:00,851 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 11:57:00,851 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 11:57:00,891 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 11:57:00,891 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:57:00,891 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 11:57:00,891 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 11:57:00,901 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 11:57:00,905 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:57:00,911 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 11:57:00,911 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 11:57:00,911 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:57:00,911 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 11:57:00,924 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 11:57:00,928 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 11:57:00,928 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:57:00,931 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 11:57:00,933 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 11:57:00,935 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 11:57:00,935 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 11:57:00,941 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 11:57:00,943 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 11:57:00,943 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:57:00,951 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 11:57:00,961 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 26088 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:57:00,966 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:57:01,109 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:57:01,112 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:57:01,112 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:57:01,116 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.163 seconds (process running for 4.212)
2025-12-19 11:57:01,125 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 11:57:01,125 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 11:57:01,132 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 11:57:01,134 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:57:01,140 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:57:01,140 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 11:57:01,147 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 11:57:01,148 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 11:57:01,152 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 11:57:01,153 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 11:57:01,153 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 11:57:01,162 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 11:57:01,162 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 11:57:01,171 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 11:57:01,171 WARN c.n.r.c.GlobalExceptionHandler [main] Conflicto: producto ya vendido
2025-12-19 11:57:01,185 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 11:57:01,191 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 11:57:01,191 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 11:57:01,191 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 11:57:01,191 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 11:57:01,201 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,206 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 11:57:01,247 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:57:01,250 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 11:57:01,254 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 11:57:01,257 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 11:57:01,258 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 11:57:01,261 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 11:57:01,261 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 11:57:01,263 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:57:01,263 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 11:57:01,263 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 11:57:01,271 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 11:57:01,271 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 11:57:01,278 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 11:57:01,281 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 11:57:01,281 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 11:57:01,281 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 11:57:01,281 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 11:57:01,294 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 11:57:01,294 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 11:57:01,301 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 11:57:01,304 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 11:57:01,310 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:57:01,313 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 11:57:01,331 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 26088 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:57:01,331 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:57:01,482 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:57:01,482 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:57:01,482 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 11:57:01,491 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.178 seconds (process running for 4.588)
2025-12-19 11:57:01,521 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 11:57:01,521 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:57:01,531 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 11:57:01,531 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:57:01,541 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 11:57:01,544 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:57:01,545 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 11:57:01,545 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,553 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 11:57:01,553 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 11:57:01,566 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 11:57:01,568 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 11:57:01,573 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 11:57:01,574 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 11:57:01,578 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 11:57:01,579 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 11:57:01,582 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 11:57:01,583 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 11:57:01,588 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 11:57:01,590 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 11:57:01,596 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 11:57:01,596 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 11:57:01,601 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 11:57:01,605 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 11:57:01,621 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 11:57:01,621 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 11:57:01,627 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 11:57:01,631 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:57:01,633 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 11:57:01,637 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 11:57:01,637 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 11:57:01,641 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 11:57:01,645 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 11:57:01,651 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 11:57:01,651 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 11:57:01,661 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 11:57:01,661 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 11:57:01,666 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 11:57:01,671 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 11:57:01,681 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 26088 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 11:57:01,681 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 11:57:01,825 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 11:57:01,825 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 11:57:01,831 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 6 ms
2025-12-19 11:57:01,834 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.163 seconds (process running for 4.929)
2025-12-19 11:57:01,836 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,841 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 11:57:01,841 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 11:57:01,851 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,880 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 11:57:01,881 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 11:57:01,891 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:57:01,891 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 11:57:01,891 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,891 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,901 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,901 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 11:57:01,905 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 11:57:01,911 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 11:57:01,911 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 11:57:01,911 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,911 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 11:57:01,911 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 11:57:01,921 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 11:57:01,921 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 11:57:01,921 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 11:57:01,921 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 11:57:01,935 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@7aaf0f0a,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] 
2025-12-19 11:57:01,941 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 11:57:01,941 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 11:57:01,941 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 11:57:01,941 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 11:57:01,941 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 11:57:01,941 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 11:57:01,951 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 11:57:01,953 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 11:57:01,953 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 11:57:01,953 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 11:57:01,961 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,964 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 11:57:01,968 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 11:57:01,971 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,971 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,971 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 11:57:01,971 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 11:57:01,981 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,981 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 11:57:01,984 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 11:57:01,991 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 11:57:01,991 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 12:03:01,861 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 12:03:01,889 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 11432 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:01,889 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:03,622 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:03,622 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:03,622 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:03,669 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.061 seconds (process running for 2.79)
2025-12-19 12:03:03,841 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 12:03:03,850 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:04,006 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:03:04,006 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:04,018 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,018 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:04,030 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 12:03:04,030 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:04,045 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 12:03:04,047 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 12:03:04,060 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:03:04,107 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 12:03:04,107 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 12:03:04,123 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 12:03:04,123 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:04,144 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] 
2025-12-19 12:03:04,151 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,151 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 12:03:04,169 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,169 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 12:03:04,169 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 12:03:04,169 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 12:03:04,181 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:03:04,181 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 12:03:04,435 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 12:03:04,435 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 12:03:04,435 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 12:03:04,453 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:03:04,453 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 12:03:04,456 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 12:03:04,456 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,456 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 12:03:04,456 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 12:03:04,467 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 12:03:04,467 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 12:03:04,467 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,467 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 12:03:04,484 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 12:03:04,487 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 12:03:04,491 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:03:04,492 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 12:03:04,495 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 12:03:04,495 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 12:03:04,501 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:04,514 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 12:03:04,541 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 11432 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:04,541 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:04,716 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:04,716 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:04,716 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:04,716 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.199 seconds (process running for 3.837)
2025-12-19 12:03:04,732 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 12:03:04,732 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 12:03:04,750 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 12:03:04,768 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 12:03:04,768 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 12:03:04,768 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 12:03:04,779 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 12:03:04,779 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 12:03:04,779 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 12:03:04,779 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:04,779 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 12:03:04,795 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:04,800 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 12:03:04,801 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 12:03:04,805 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 12:03:04,806 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:04,822 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:03:04,822 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 12:03:04,825 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:03:04,825 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 12:03:04,858 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 12:03:04,858 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:04,858 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 12:03:04,858 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 12:03:04,874 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 12:03:04,874 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:04,874 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 12:03:04,874 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 12:03:04,874 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:04,890 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 12:03:04,890 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:04,890 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 12:03:04,890 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:04,890 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 12:03:04,890 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 12:03:04,890 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 12:03:04,906 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 12:03:04,906 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 12:03:04,906 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:04,906 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:04,922 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 12:03:04,934 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 11432 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:04,934 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:05,077 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:05,077 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:05,092 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:05,092 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.168 seconds (process running for 4.208)
2025-12-19 12:03:05,092 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:03:05,092 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 12:03:05,115 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 12:03:05,115 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:05,124 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:03:05,126 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 12:03:05,132 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 12:03:05,133 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 12:03:05,138 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 12:03:05,139 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:03:05,146 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 12:03:05,147 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 12:03:05,151 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:03:05,154 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:03:05,154 WARN c.n.r.c.GlobalExceptionHandler [main] Conflicto: producto ya vendido
2025-12-19 12:03:05,170 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 12:03:05,170 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 12:03:05,170 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 12:03:05,170 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:03:05,170 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 12:03:05,170 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,186 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 12:03:05,218 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:03:05,218 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 12:03:05,218 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 12:03:05,233 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 12:03:05,233 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 12:03:05,233 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 12:03:05,233 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 12:03:05,233 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:03:05,233 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 12:03:05,233 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:03:05,249 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 12:03:05,249 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 12:03:05,253 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:03:05,256 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 12:03:05,256 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 12:03:05,259 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 12:03:05,261 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 12:03:05,263 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 12:03:05,263 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 12:03:05,263 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:03:05,263 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 12:03:05,263 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:05,279 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 12:03:05,295 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 11432 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:05,295 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:05,436 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:05,436 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:05,436 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:05,453 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.174 seconds (process running for 4.563)
2025-12-19 12:03:05,481 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 12:03:05,481 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:05,497 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 12:03:05,497 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:05,497 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 12:03:05,497 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:05,497 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 12:03:05,497 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,513 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 12:03:05,513 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 12:03:05,513 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 12:03:05,513 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:05,513 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 12:03:05,529 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 12:03:05,529 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 12:03:05,529 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 12:03:05,544 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 12:03:05,544 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 12:03:05,552 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 12:03:05,552 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:05,552 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 12:03:05,552 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 12:03:05,552 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 12:03:05,566 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 12:03:05,578 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 12:03:05,583 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 12:03:05,584 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 12:03:05,589 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:03:05,590 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 12:03:05,591 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 12:03:05,591 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 12:03:05,591 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 12:03:05,591 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 12:03:05,591 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 12:03:05,591 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 12:03:05,606 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:03:05,606 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 12:03:05,606 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:05,622 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 12:03:05,638 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 11432 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:05,638 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:05,757 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:05,757 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:05,773 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:05,773 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.151 seconds (process running for 4.887)
2025-12-19 12:03:05,773 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,773 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 12:03:05,793 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 12:03:05,794 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,810 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 12:03:05,810 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 12:03:05,825 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:03:05,825 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 12:03:05,825 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,825 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,825 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,841 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 12:03:05,845 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:03:05,845 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 12:03:05,852 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 12:03:05,852 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,852 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 12:03:05,857 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 12:03:05,857 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 12:03:05,857 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 12:03:05,857 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 12:03:05,857 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:05,873 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@744c16fb,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] 
2025-12-19 12:03:05,873 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 12:03:05,873 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 12:03:05,873 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 12:03:05,873 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 12:03:05,873 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 12:03:05,873 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 12:03:05,891 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 12:03:05,895 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 12:03:05,895 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 12:03:05,897 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 12:03:05,900 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,903 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 12:03:05,903 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 12:03:05,904 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,904 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,904 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 12:03:05,904 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 12:03:05,904 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,904 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 12:03:05,904 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:05,920 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 12:03:05,920 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 12:03:37,947 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 12:03:37,982 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 24848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:37,982 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:39,763 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:39,764 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:39,764 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:39,798 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.098 seconds (process running for 2.783)
2025-12-19 12:03:39,951 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 12:03:39,968 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:40,122 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:03:40,122 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:40,142 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,142 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:40,164 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 12:03:40,168 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:40,170 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 12:03:40,170 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 12:03:40,199 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:03:40,225 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 12:03:40,225 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 12:03:40,247 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 12:03:40,247 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:03:40,256 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] 
2025-12-19 12:03:40,262 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,262 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 12:03:40,288 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,288 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 12:03:40,306 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 12:03:40,306 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 12:03:40,306 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:03:40,306 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 12:03:40,560 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 12:03:40,575 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 12:03:40,575 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 12:03:40,585 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:03:40,585 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 12:03:40,588 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 12:03:40,591 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,591 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 12:03:40,591 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 12:03:40,591 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 12:03:40,591 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 12:03:40,607 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,607 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 12:03:40,607 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 12:03:40,624 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 12:03:40,628 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:03:40,629 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 12:03:40,632 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 12:03:40,633 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 12:03:40,637 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:40,647 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 12:03:40,671 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 24848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:40,671 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:40,863 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:40,864 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:40,865 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:40,870 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.217 seconds (process running for 3.845)
2025-12-19 12:03:40,877 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 12:03:40,878 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 12:03:40,901 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 12:03:40,913 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 12:03:40,919 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 12:03:40,919 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 12:03:40,919 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 12:03:40,919 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 12:03:40,935 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 12:03:40,935 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:40,935 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 12:03:40,935 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:40,947 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 12:03:40,947 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 12:03:40,951 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 12:03:40,951 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:40,967 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:03:40,967 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 12:03:40,967 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:03:40,967 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 12:03:40,999 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 12:03:41,015 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:41,015 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 12:03:41,015 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 12:03:41,015 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 12:03:41,015 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:41,015 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 12:03:41,015 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 12:03:41,031 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:41,031 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 12:03:41,031 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:03:41,031 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 12:03:41,031 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:41,031 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 12:03:41,031 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 12:03:41,047 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 12:03:41,047 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 12:03:41,053 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 12:03:41,053 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:03:41,053 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:41,069 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 12:03:41,072 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 24848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:41,072 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:41,219 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:41,219 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:41,235 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:41,235 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.163 seconds (process running for 4.214)
2025-12-19 12:03:41,247 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:03:41,247 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 12:03:41,251 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 12:03:41,251 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:41,251 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:03:41,251 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 12:03:41,266 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 12:03:41,267 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 12:03:41,272 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 12:03:41,273 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:03:41,281 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 12:03:41,282 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 12:03:41,282 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:03:41,282 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:03:41,282 WARN c.n.r.c.GlobalExceptionHandler [main] Conflicto: producto ya vendido
2025-12-19 12:03:41,295 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 12:03:41,310 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 12:03:41,310 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 12:03:41,310 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:03:41,310 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 12:03:41,310 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:41,326 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 12:03:41,358 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:03:41,358 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 12:03:41,374 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 12:03:41,379 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 12:03:41,380 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 12:03:41,383 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 12:03:41,383 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 12:03:41,386 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:03:41,387 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 12:03:41,390 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:03:41,395 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 12:03:41,395 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 12:03:41,397 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:03:41,401 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 12:03:41,401 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:03:41,403 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 12:03:41,419 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:41,419 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 12:03:41,448 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 24848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:41,448 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:41,576 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:41,576 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:41,576 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:03:41,576 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.157 seconds (process running for 4.566)
2025-12-19 12:03:41,607 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 12:03:41,607 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:41,623 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 12:03:41,623 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:41,639 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 12:03:41,639 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:41,639 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 12:03:41,639 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:41,649 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 12:03:41,649 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 12:03:41,655 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 12:03:41,655 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:03:41,655 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 12:03:41,655 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 12:03:41,655 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 12:03:41,655 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 12:03:41,671 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 12:03:41,671 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 12:03:41,671 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 12:03:41,671 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:03:41,671 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 12:03:41,671 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 12:03:41,688 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 12:03:41,688 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 12:03:41,708 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 12:03:41,714 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 12:03:41,715 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 12:03:41,717 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:03:41,717 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 12:03:41,717 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 12:03:41,717 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 12:03:41,717 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 12:03:41,717 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 12:03:41,733 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 12:03:41,733 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 12:03:41,749 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:03:41,749 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 12:03:41,749 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:03:41,749 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 12:03:41,765 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 24848 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:03:41,765 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:03:41,915 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:03:41,915 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:03:41,916 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 12:03:41,919 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.154 seconds (process running for 4.894)
2025-12-19 12:03:41,931 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:41,932 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 12:03:41,934 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 12:03:41,934 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:41,972 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 12:03:41,972 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 12:03:41,982 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:03:41,982 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 12:03:41,982 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:41,982 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:41,982 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:41,982 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 12:03:41,998 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:03:41,998 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 12:03:41,998 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 12:03:41,998 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:41,998 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 12:03:41,998 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 12:03:41,998 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 12:03:42,014 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 12:03:42,014 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 12:03:42,014 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:03:42,014 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@11e36e5c,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] 
2025-12-19 12:03:42,030 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 12:03:42,031 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 12:03:42,035 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 12:03:42,035 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 12:03:42,038 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 12:03:42,038 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 12:03:42,041 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 12:03:42,044 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 12:03:42,044 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 12:03:42,044 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 12:03:42,049 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:42,049 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 12:03:42,049 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 12:03:42,049 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:42,049 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:42,060 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 12:03:42,060 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 12:03:42,060 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:42,060 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 12:03:42,060 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:03:42,060 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 12:03:42,060 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 12:04:31,441 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 12:04:31,481 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 27204 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:04:31,481 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:04:33,248 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:04:33,249 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:04:33,252 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 12:04:33,294 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.094 seconds (process running for 2.785)
2025-12-19 12:04:33,443 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 12:04:33,456 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:04:33,606 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:04:33,606 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:04:33,622 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 12:04:33,622 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:33,637 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 12:04:33,637 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:04:33,637 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 12:04:33,637 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 12:04:33,671 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:04:33,731 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 12:04:33,731 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 12:04:33,756 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 12:04:33,756 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:04:33,763 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:04:33,763 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 12:04:33,763 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 12:04:33,794 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:04:33,795 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 12:04:33,803 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 12:04:33,804 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 12:04:33,809 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:04:33,810 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 12:04:34,061 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 12:04:34,077 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 12:04:34,077 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 12:04:34,088 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:04:34,088 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 12:04:34,092 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 12:04:34,092 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:04:34,092 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 12:04:34,092 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 12:04:34,108 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 12:04:34,108 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 12:04:34,108 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 12:04:34,108 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 12:04:34,124 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 12:04:34,128 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 12:04:34,133 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:04:34,134 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 12:04:34,137 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 12:04:34,137 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 12:04:34,138 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:04:34,156 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 12:04:34,172 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 27204 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:04:34,172 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:04:34,356 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:04:34,356 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:04:34,356 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:04:34,356 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.2 seconds (process running for 3.854)
2025-12-19 12:04:34,372 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 12:04:34,372 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 12:04:34,388 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 12:04:34,403 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 12:04:34,403 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 12:04:34,419 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 12:04:34,423 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 12:04:34,423 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 12:04:34,423 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 12:04:34,423 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:04:34,435 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 12:04:34,435 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:04:34,435 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 12:04:34,435 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 12:04:34,451 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 12:04:34,452 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:04:34,466 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:04:34,466 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 12:04:34,466 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:04:34,466 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 12:04:34,514 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 12:04:34,514 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:04:34,514 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 12:04:34,514 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 12:04:34,514 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 12:04:34,523 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:04:34,523 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 12:04:34,523 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 12:04:34,530 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:04:34,535 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 12:04:34,535 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:04:34,535 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 12:04:34,535 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:04:34,535 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 12:04:34,548 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 12:04:34,551 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 12:04:34,554 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 12:04:34,558 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 12:04:34,558 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:04:34,564 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:04:34,571 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 12:04:34,575 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 27204 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:04:34,575 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:04:34,723 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:04:34,723 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:04:34,733 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 12:04:34,733 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.16 seconds (process running for 4.227)
2025-12-19 12:04:34,748 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:04:34,748 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 12:04:34,748 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 12:04:34,748 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:04:34,764 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:04:34,764 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 12:04:34,764 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 12:04:34,764 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 12:04:34,781 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 12:04:34,783 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:04:34,789 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 12:04:34,790 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 12:04:34,793 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:04:34,793 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:04:34,793 WARN c.n.r.c.GlobalExceptionHandler [main] Conflicto: producto ya vendido
2025-12-19 12:04:34,793 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 12:04:34,793 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 12:04:34,793 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 12:04:34,809 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:04:34,809 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 12:04:34,809 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:34,818 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 12:04:34,856 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:04:34,856 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 12:04:34,856 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 12:04:34,856 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 12:04:34,856 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 12:04:34,872 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 12:04:34,872 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 12:04:34,872 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:04:34,872 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 12:04:34,872 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:04:34,872 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 12:04:34,872 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 12:04:34,888 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:04:34,893 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 12:04:34,894 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 12:04:34,897 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 12:04:34,900 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 12:04:34,906 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 12:04:34,906 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 12:04:34,906 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:04:34,906 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 12:04:34,906 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:04:34,923 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 12:04:34,935 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 27204 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:04:34,935 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:04:35,075 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:04:35,075 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:04:35,075 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:04:35,091 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.168 seconds (process running for 4.58)
2025-12-19 12:04:35,121 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 12:04:35,122 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:04:35,133 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 12:04:35,133 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:04:35,137 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 12:04:35,137 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:04:35,137 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 12:04:35,137 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:35,137 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 12:04:35,137 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 12:04:35,158 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 12:04:35,158 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:04:35,164 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 12:04:35,164 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 12:04:35,169 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 12:04:35,169 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 12:04:35,169 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 12:04:35,169 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 12:04:35,169 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 12:04:35,169 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:04:35,181 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 12:04:35,181 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 12:04:35,186 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 12:04:35,188 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 12:04:35,207 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 12:04:35,213 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 12:04:35,214 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 12:04:35,219 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:04:35,221 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 12:04:35,223 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 12:04:35,223 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 12:04:35,228 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 12:04:35,230 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 12:04:35,236 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 12:04:35,236 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 12:04:35,236 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:04:35,247 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 12:04:35,252 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:04:35,252 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 12:04:35,263 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 27204 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:04:35,263 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:04:35,388 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:04:35,388 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:04:35,388 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:04:35,388 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.136 seconds (process running for 4.884)
2025-12-19 12:04:35,388 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,388 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 12:04:35,404 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 12:04:35,404 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:35,444 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 12:04:35,444 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 12:04:35,454 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:04:35,455 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 12:04:35,459 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,460 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:35,464 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,464 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 12:04:35,472 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:04:35,473 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 12:04:35,477 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 12:04:35,478 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:35,481 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 12:04:35,482 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 12:04:35,482 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 12:04:35,482 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 12:04:35,482 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 12:04:35,482 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:04:35,482 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@3979c6e8,.*]; default message [El formato de email no es válido]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] 
2025-12-19 12:04:35,500 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 12:04:35,502 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 12:04:35,506 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 12:04:35,506 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 12:04:35,508 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 12:04:35,508 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 12:04:35,508 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 12:04:35,514 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 12:04:35,514 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 12:04:35,518 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 12:04:35,518 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,524 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 12:04:35,524 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 12:04:35,524 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,529 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,529 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 12:04:35,529 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 12:04:35,529 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,529 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 12:04:35,529 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:04:35,529 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 12:04:35,544 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
2025-12-19 12:06:30,516 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.3.Final
2025-12-19 12:06:30,553 INFO o.s.b.StartupInfoLogger [main] Starting AlquilerControllerTests using Java 21.0.8 with PID 15300 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:06:30,554 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:06:32,390 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:06:32,390 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:06:32,390 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:06:32,442 INFO o.s.b.StartupInfoLogger [main] Started AlquilerControllerTests in 2.162 seconds (process running for 2.868)
2025-12-19 12:06:32,575 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/99 - eliminando
2025-12-19 12:06:32,591 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:06:32,747 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:06:32,747 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:06:32,763 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=99, arrendatarioId=null, productoId=null
2025-12-19 12:06:32,763 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:32,781 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/99 - actualizando alquiler
2025-12-19 12:06:32,781 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:06:32,794 WARN c.n.r.c.AlquilerController [main] DELETE /alquileres/1 - eliminando
2025-12-19 12:06:32,794 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 eliminado correctamente
2025-12-19 12:06:32,826 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.actualizarAlquiler(com.natalia.relab.dto.AlquilerUpdateDto,long) throws exception.AlquilerNoEncontradoException: [Field error in object 'alquilerUpdateDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerUpdateDto.precio,Min.precio,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerUpdateDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:06:32,889 INFO c.n.r.c.AlquilerController [main] GET /alquileres/1 solicitado
2025-12-19 12:06:32,905 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 encontrado
2025-12-19 12:06:32,923 INFO c.n.r.c.AlquilerController [main] GET /alquileres/99 solicitado
2025-12-19 12:06:32,925 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: AlquilerNoEncontradoException
2025-12-19 12:06:32,925 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.AlquilerOutDto> com.natalia.relab.controller.AlquilerController.agregarAlquiler(com.natalia.relab.dto.AlquilerInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException with 4 errors: [Field error in object 'alquilerInDto' on field 'productoId': rejected value [null]; codes [NotNull.alquilerInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto alquilado]] [Field error in object 'alquilerInDto' on field 'arrendadorId': rejected value [null]; codes [NotNull.alquilerInDto.arrendadorId,NotNull.arrendadorId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendadorId,arrendadorId]; arguments []; default message [arrendadorId]]; default message [Debe especificarse el arrendador]] [Field error in object 'alquilerInDto' on field 'arrendatarioId': rejected value [null]; codes [NotNull.alquilerInDto.arrendatarioId,NotNull.arrendatarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.arrendatarioId,arrendatarioId]; arguments []; default message [arrendatarioId]]; default message [Debe especificarse el arrendatario]] [Field error in object 'alquilerInDto' on field 'precio': rejected value [-10.0]; codes [Min.alquilerInDto.precio,Min.precio,Min.float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [alquilerInDto.precio,precio]; arguments []; default message [precio],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:06:32,936 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=5, arrendatarioId=null, productoId=null
2025-12-19 12:06:32,937 INFO c.n.r.c.AlquilerController [main] Resultado: 1 alquileres encontrados
2025-12-19 12:06:32,954 INFO c.n.r.c.AlquilerController [main] GET /alquileres - Parámetros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:06:32,955 INFO c.n.r.c.AlquilerController [main] Resultado: 2 alquileres encontrados
2025-12-19 12:06:32,962 INFO c.n.r.c.AlquilerController [main] PUT /alquileres/1 - actualizando alquiler
2025-12-19 12:06:32,963 INFO c.n.r.c.AlquilerController [main] Alquiler con id 1 actualizado correctamente
2025-12-19 12:06:32,965 INFO c.n.r.c.AlquilerController [main] POST /alquileres - creando nuevo alquiler
2025-12-19 12:06:32,965 INFO c.n.r.c.AlquilerController [main] Alquiler creado con id 100
2025-12-19 12:06:33,218 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=5
2025-12-19 12:06:33,227 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 999
2025-12-19 12:06:33,227 ERROR c.n.r.s.AlquilerService [main] No existe alquiler con ID 999
2025-12-19 12:06:33,230 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:06:33,231 WARN c.n.r.s.AlquilerService [main] Producto con ID 1 no encontrado
2025-12-19 12:06:33,237 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=999
2025-12-19 12:06:33,240 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=null, productoId=null
2025-12-19 12:06:33,244 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 999
2025-12-19 12:06:33,248 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=999, productoId=null
2025-12-19 12:06:33,255 WARN c.n.r.s.AlquilerService [main] Servicio: Intentando eliminar alquiler con ID 1
2025-12-19 12:06:33,255 INFO c.n.r.s.AlquilerService [main] Alquiler con ID 1 eliminado correctamente
2025-12-19 12:06:33,261 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=999, arrendatarioId=null, productoId=null
2025-12-19 12:06:33,265 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=2, arrendatarioId=null, productoId=null
2025-12-19 12:06:33,269 INFO c.n.r.s.AlquilerService [main] Servicio: Listando alquileres con filtros: arrendadorId=null, arrendatarioId=3, productoId=null
2025-12-19 12:06:33,273 INFO c.n.r.s.AlquilerService [main] Servicio: buscando alquiler por ID 1
2025-12-19 12:06:33,277 INFO c.n.r.s.AlquilerService [main] Agregando nuevo alquiler: productoId 1, arrendadorId 2, arrendatarioId 3
2025-12-19 12:06:33,278 INFO c.n.r.s.AlquilerService [main] Alquiler creado correctamente con ID 1
2025-12-19 12:06:33,281 INFO c.n.r.s.AlquilerService [main] Servicio: Modificando alquiler con ID 1
2025-12-19 12:06:33,281 INFO c.n.r.s.AlquilerService [main] Servicio: Alquiler actualizado correctamente con ID 1
2025-12-19 12:06:33,288 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CategoriaControllerTests]: CategoriaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:06:33,294 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CategoriaControllerTests
2025-12-19 12:06:33,310 INFO o.s.b.StartupInfoLogger [main] Starting CategoriaControllerTests using Java 21.0.8 with PID 15300 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:06:33,310 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:06:33,504 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:06:33,505 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:06:33,506 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 1 ms
2025-12-19 12:06:33,511 INFO o.s.b.StartupInfoLogger [main] Started CategoriaControllerTests in 0.216 seconds (process running for 3.935)
2025-12-19 12:06:33,512 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Solicitando categoría por ID
2025-12-19 12:06:33,512 INFO c.n.r.c.CategoriaController [main] GET /categorias/1 - Categoría encontrada correctamente
2025-12-19 12:06:33,528 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.agregarCategorias(com.natalia.relab.dto.CategoriaInDto) with 2 errors: [Field error in object 'categoriaInDto' on field 'descripcion': rejected value [abcd]; codes [Size.categoriaInDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre es un campo obligatorio]] 
2025-12-19 12:06:33,546 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CategoriaOutDto> com.natalia.relab.controller.CategoriaController.actualizarCategoria(com.natalia.relab.dto.CategoriaUpdateDto,long) throws exception.CategoriaNoEncontradaException with 2 errors: [Field error in object 'categoriaUpdateDto' on field 'nombre': rejected value []; codes [Size.categoriaUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] [Field error in object 'categoriaUpdateDto' on field 'descripcion': rejected value [Corta]; codes [Size.categoriaUpdateDto.descripcion,Size.descripcion,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaUpdateDto.descripcion,descripcion]; arguments []; default message [descripcion],2147483647,10]; default message [La descripción debe tener al menos 10 caracteres]] 
2025-12-19 12:06:33,560 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/1 - Eliminación solicitada
2025-12-19 12:06:33,560 INFO c.n.r.c.CategoriaController [main] Categoría 1 eliminada correctamente
2025-12-19 12:06:33,560 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Actualización de categoría solicitada
2025-12-19 12:06:33,560 INFO c.n.r.c.CategoriaController [main] PUT /categorias/1 - Categoría actualizada correctamente
2025-12-19 12:06:33,560 WARN c.n.r.c.CategoriaController [main] DELETE /categorias/999 - Eliminación solicitada
2025-12-19 12:06:33,576 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:06:33,576 INFO c.n.r.c.CategoriaController [main] PUT /categorias/999 - Actualización de categoría solicitada
2025-12-19 12:06:33,576 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:06:33,576 INFO c.n.r.c.CategoriaController [main] POST /categorias - Creación de nueva categoría solicitada
2025-12-19 12:06:33,576 INFO c.n.r.c.CategoriaController [main] POST /categorias - Nueva categoría creada con ID 1
2025-12-19 12:06:33,592 INFO c.n.r.c.CategoriaController [main] GET /categorias/99 - Solicitando categoría por ID
2025-12-19 12:06:33,592 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:06:33,609 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='Microscopios', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:06:33,610 INFO c.n.r.c.CategoriaController [main] Se devolvieron 1 categorias
2025-12-19 12:06:33,615 INFO c.n.r.c.CategoriaController [main] GET /categorías - filtros: nombre='null', activa=null, fechaCreacion=null, desde=null, hasta=null
2025-12-19 12:06:33,616 INFO c.n.r.c.CategoriaController [main] Se devolvieron 2 categorias
2025-12-19 12:06:33,654 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 99
2025-12-19 12:06:33,654 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:06:33,654 INFO c.n.r.s.CategoriaService [main] Intentando crear nueva categoría
2025-12-19 12:06:33,654 INFO c.n.r.s.CategoriaService [main] Categoría creada con ID 1
2025-12-19 12:06:33,654 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: 2025-11-23, desde: null, hasta: null
2025-12-19 12:06:33,654 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: true, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:06:33,668 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 1
2025-12-19 12:06:33,668 INFO c.n.r.s.CategoriaService [main] Categoría 1 eliminada correctamente
2025-12-19 12:06:33,670 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: Centrífugas, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:06:33,670 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: 2025-11-30
2025-12-19 12:06:33,670 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: null, hasta: null
2025-12-19 12:06:33,670 WARN c.n.r.s.CategoriaService [main] Intentando eliminar categoría 99
2025-12-19 12:06:33,670 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:06:33,686 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 1
2025-12-19 12:06:33,686 INFO c.n.r.s.CategoriaService [main] Categoría 1 actualizada correctamente
2025-12-19 12:06:33,686 INFO c.n.r.s.CategoriaService [main] Listando categorías con filtros - nombre: null, activa: null, fechaCreacion: null, desde: 2025-11-01, hasta: null
2025-12-19 12:06:33,686 INFO c.n.r.s.CategoriaService [main] Buscando categoría por ID 1
2025-12-19 12:06:33,686 INFO c.n.r.s.CategoriaService [main] Intentando modificar categoría con ID 99
2025-12-19 12:06:33,686 ERROR c.n.r.s.CategoriaService [main] Categoría 99 no encontrada
2025-12-19 12:06:33,686 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.CompraventaControllerTests]: CompraventaControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:06:33,701 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.CompraventaControllerTests
2025-12-19 12:06:33,723 INFO o.s.b.StartupInfoLogger [main] Starting CompraventaControllerTests using Java 21.0.8 with PID 15300 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:06:33,724 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:06:33,862 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:06:33,862 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:06:33,862 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:06:33,862 INFO o.s.b.StartupInfoLogger [main] Started CompraventaControllerTests in 0.161 seconds (process running for 4.3)
2025-12-19 12:06:33,885 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:06:33,885 INFO c.n.r.c.CompraventaController [main] Compraventa creada con id 1
2025-12-19 12:06:33,885 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 99 entre compradorId 1 y vendedorId 2
2025-12-19 12:06:33,885 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:06:33,901 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:06:33,901 INFO c.n.r.c.CompraventaController [main] Resultado: 1 compraventas encontradas
2025-12-19 12:06:33,901 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/1 solicitado
2025-12-19 12:06:33,901 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 eliminada correctamente
2025-12-19 12:06:33,901 WARN c.n.r.c.CompraventaController [main] DELETE /compraventas/99 solicitado
2025-12-19 12:06:33,901 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:06:33,917 INFO c.n.r.c.CompraventaController [main] PUT /compraventas/1 actualizando
2025-12-19 12:06:33,917 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 actualizada correctamente
2025-12-19 12:06:33,917 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.actualizarCompraventa(com.natalia.relab.dto.CompraventaUpdateDto,long) throws exception.CompraventaNoEncontradaException: [Field error in object 'compraventaUpdateDto' on field 'precioFinal': rejected value [-5.0]; codes [Min.compraventaUpdateDto.precioFinal,Min.precioFinal,Min.java.lang.Float,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaUpdateDto.precioFinal,precioFinal]; arguments []; default message [precioFinal],0]; default message [El precio debe ser mayor que cero]] 
2025-12-19 12:06:33,917 INFO c.n.r.c.CompraventaController [main] POST /compraventas - creando compraventa para productoId 1 entre compradorId 2 y vendedorId 3
2025-12-19 12:06:33,933 WARN c.n.r.c.GlobalExceptionHandler [main] Conflicto: producto ya vendido
2025-12-19 12:06:33,936 INFO c.n.r.c.CompraventaController [main] GET /compraventas/1 solicitado
2025-12-19 12:06:33,936 INFO c.n.r.c.CompraventaController [main] Compraventa con id 1 encontrada
2025-12-19 12:06:33,936 INFO c.n.r.c.CompraventaController [main] GET /compraventas/99 solicitado
2025-12-19 12:06:33,936 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CompraventaNoEncontradaException
2025-12-19 12:06:33,946 INFO c.n.r.c.CompraventaController [main] GET /compraventas - Filtros recibidos -> compradorId=99, vendedorId=null, productoId=null
2025-12-19 12:06:33,948 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:33,948 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.CompraventaOutDto> com.natalia.relab.controller.CompraventaController.agregarCompraventa(com.natalia.relab.dto.CompraventaInDto) throws exception.UsuarioNoEncontradoException,exception.ProductoNoEncontradoException,exception.ProductoYaVendidoException: [Field error in object 'compraventaInDto' on field 'productoId': rejected value [null]; codes [NotNull.compraventaInDto.productoId,NotNull.productoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [compraventaInDto.productoId,productoId]; arguments []; default message [productoId]]; default message [Debe especificarse el producto comprado/vendido]] 
2025-12-19 12:06:33,980 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:06:33,996 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=10, vendedorId=null, productoId=null
2025-12-19 12:06:33,996 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=20, productoId=null
2025-12-19 12:06:33,996 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 999
2025-12-19 12:06:33,996 ERROR c.n.r.s.CompraventaService [main] Compraventa 999 no encontrada para eliminar
2025-12-19 12:06:33,996 WARN c.n.r.s.CompraventaService [main] Servicio: Eliminar compraventa 1
2025-12-19 12:06:33,996 INFO c.n.r.s.CompraventaService [main] Compraventa 1 eliminada correctamente
2025-12-19 12:06:34,012 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:06:34,012 WARN c.n.r.s.CompraventaService [main] Producto 1 ya ha sido vendido. Operación cancelada
2025-12-19 12:06:34,012 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=null
2025-12-19 12:06:34,012 INFO c.n.r.s.CompraventaService [main] Servicio: Modificar compraventa por ID 1
2025-12-19 12:06:34,012 INFO c.n.r.s.CompraventaService [main] Compraventa 1 actualizada correctamente
2025-12-19 12:06:34,012 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=5
2025-12-19 12:06:34,028 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 999
2025-12-19 12:06:34,028 ERROR c.n.r.s.CompraventaService [main] Compraventa no encontrada con ID 999
2025-12-19 12:06:34,028 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=null, productoId=99
2025-12-19 12:06:34,028 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=null, vendedorId=999, productoId=null
2025-12-19 12:06:34,046 INFO c.n.r.s.CompraventaService [main] Servicio: Buscar compraventa por ID 1
2025-12-19 12:06:34,046 INFO c.n.r.s.CompraventaService [main] Servicio: Listar compraventas con filtros -> compradorId=999, vendedorId=null, productoId=null
2025-12-19 12:06:34,046 INFO c.n.r.s.CompraventaService [main] Agregando compraventa de producto id 1 entre comprador id 2 y vendedor id 3
2025-12-19 12:06:34,046 INFO c.n.r.s.CompraventaService [main] Compraventa creada correctamente. ID=1
2025-12-19 12:06:34,059 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.ProductoControllerTests]: ProductoControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:06:34,059 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.ProductoControllerTests
2025-12-19 12:06:34,075 INFO o.s.b.StartupInfoLogger [main] Starting ProductoControllerTests using Java 21.0.8 with PID 15300 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:06:34,075 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:06:34,217 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:06:34,217 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:06:34,217 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:06:34,217 INFO o.s.b.StartupInfoLogger [main] Started ProductoControllerTests in 0.158 seconds (process running for 4.647)
2025-12-19 12:06:34,251 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=999
2025-12-19 12:06:34,253 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:06:34,263 INFO c.n.r.c.ProductoController [main] PUT /productos/999 - actualización solicitada
2025-12-19 12:06:34,264 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:06:34,269 INFO c.n.r.c.ProductoController [main] GET /productos/999 - solicitando producto por ID
2025-12-19 12:06:34,270 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:06:34,276 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=999, CategoriaId=null
2025-12-19 12:06:34,277 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:34,279 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=Producto Test, activo=null, categoriaId=null, usuarioId=null
2025-12-19 12:06:34,279 INFO c.n.r.c.ProductoController [main] GET /productos - encontrados 1 productos
2025-12-19 12:06:34,294 WARN c.n.r.c.ProductoController [main] DELETE /productos/999 - eliminación solicitada
2025-12-19 12:06:34,294 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: ProductoNoEncontradoException
2025-12-19 12:06:34,294 INFO c.n.r.c.ProductoController [main] GET /productos/1 - solicitando producto por ID
2025-12-19 12:06:34,294 INFO c.n.r.c.ProductoController [main] GET /productos/1 - producto encontrado correctamente
2025-12-19 12:06:34,310 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - eliminación solicitada
2025-12-19 12:06:34,310 WARN c.n.r.c.ProductoController [main] DELETE /productos/1 - producto eliminado
2025-12-19 12:06:34,310 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - actualización solicitada
2025-12-19 12:06:34,310 INFO c.n.r.c.ProductoController [main] PUT /productos/1 - producto actualizado correctamente
2025-12-19 12:06:34,326 INFO c.n.r.c.ProductoController [main] GET /productos - filtros: nombre=null, activo=null, categoriaId=999, usuarioId=null
2025-12-19 12:06:34,326 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: CategoriaNoEncontradaException
2025-12-19 12:06:34,333 INFO c.n.r.c.ProductoController [main] POST /productos - creando nuevo producto. Nombre=Producto Test, UsuarioId=1, CategoriaId=2
2025-12-19 12:06:34,333 INFO c.n.r.c.ProductoController [main] POST /productos - producto creado con ID 10
2025-12-19 12:06:34,342 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.actualizarProducto(com.natalia.relab.dto.ProductoUpdateDto,long) throws exception.ProductoNoEncontradoException,exception.CategoriaNoEncontradaException: [Field error in object 'productoUpdateDto' on field 'nombre': rejected value []; codes [Size.productoUpdateDto.nombre,Size.nombre,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoUpdateDto.nombre,nombre]; arguments []; default message [nombre],2147483647,1]; default message [El nombre no puede estar vacío]] 
2025-12-19 12:06:34,347 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.ProductoOutDto> com.natalia.relab.controller.ProductoController.agregarProducto(com.natalia.relab.dto.ProductoInDto) throws exception.CategoriaNoEncontradaException,exception.UsuarioNoEncontradoException: [Field error in object 'productoInDto' on field 'nombre': rejected value [null]; codes [NotBlank.productoInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [productoInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [El nombre del producto es un campo obligatorio]] 
2025-12-19 12:06:34,358 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado
2025-12-19 12:06:34,376 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 5
2025-12-19 12:06:34,377 WARN c.n.r.s.ProductoService [main] Producto 5 eliminado correctamente
2025-12-19 12:06:34,383 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:06:34,384 WARN c.n.r.s.ProductoService [main] Usuario 99 no encontrado
2025-12-19 12:06:34,389 WARN c.n.r.s.ProductoService [main] Servicio: eliminando producto 999
2025-12-19 12:06:34,391 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar eliminar
2025-12-19 12:06:34,405 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 1
2025-12-19 12:06:34,415 INFO c.n.r.s.ProductoService [main] Producto 1 actualizado correctamente
2025-12-19 12:06:34,425 INFO c.n.r.s.ProductoService [main] Servicio: actualizando producto 999
2025-12-19 12:06:34,425 WARN c.n.r.s.ProductoService [main] Producto 999 no encontrado al intentar actualizar
2025-12-19 12:06:34,447 INFO c.n.r.s.ProductoService [main] Servicio: creando producto 'Producto1'
2025-12-19 12:06:34,447 INFO c.n.r.s.ProductoService [main] Producto creado con ID 100
2025-12-19 12:06:34,457 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.natalia.relab.UsuarioControllerTests]: UsuarioControllerTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-19 12:06:34,464 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.natalia.relab.RelabApplication for test class com.natalia.relab.UsuarioControllerTests
2025-12-19 12:06:34,473 INFO o.s.b.StartupInfoLogger [main] Starting UsuarioControllerTests using Java 21.0.8 with PID 15300 (started by natal in D:\DAM\Segundo\AccesoDatos\AA1\API_ReLab)
2025-12-19 12:06:34,473 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2025-12-19 12:06:34,623 INFO o.s.m.w.MockServletContext [main] Initializing Spring TestDispatcherServlet ''
2025-12-19 12:06:34,623 INFO o.s.w.s.FrameworkServlet [main] Initializing Servlet ''
2025-12-19 12:06:34,623 INFO o.s.w.s.FrameworkServlet [main] Completed initialization in 0 ms
2025-12-19 12:06:34,623 INFO o.s.b.StartupInfoLogger [main] Started UsuarioControllerTests in 0.159 seconds (process running for 5.054)
2025-12-19 12:06:34,623 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=user1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,623 INFO c.n.r.c.UsuarioController [main] Resultado: 1 usuarios encontrados
2025-12-19 12:06:34,647 INFO c.n.r.c.UsuarioController [main] GET /usuarios/99 solicitado
2025-12-19 12:06:34,647 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:34,670 INFO c.n.r.c.UsuarioController [main] POST /usuarios - creando usuario con nickname natalia
2025-12-19 12:06:34,670 INFO c.n.r.c.UsuarioController [main] Usuario creado con id 1
2025-12-19 12:06:34,692 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:06:34,692 INFO c.n.r.c.UsuarioController [main] Usuario 5 actualizado correctamente
2025-12-19 12:06:34,696 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=inexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,697 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:34,700 INFO c.n.r.c.UsuarioController [main] GET /usuarios - filtros: nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,700 INFO c.n.r.c.UsuarioController [main] Resultado: 2 usuarios encontrados
2025-12-19 12:06:34,705 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/5 - actualización solicitada
2025-12-19 12:06:34,706 WARN c.n.r.c.GlobalExceptionHandler [main] Intento de creación con datos duplicados: NicknameYaExisteException
2025-12-19 12:06:34,710 INFO c.n.r.c.UsuarioController [main] PUT /usuarios/999 - actualización solicitada
2025-12-19 12:06:34,712 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:34,715 INFO c.n.r.c.UsuarioController [main] GET /usuarios/1 solicitado
2025-12-19 12:06:34,717 INFO c.n.r.c.UsuarioController [main] Usuario con id 1 encontrado
2025-12-19 12:06:34,720 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/5 solicitado
2025-12-19 12:06:34,721 INFO c.n.r.c.UsuarioController [main] Usuario 5 eliminado correctamente
2025-12-19 12:06:34,725 WARN c.n.r.c.UsuarioController [main] DELETE /usuarios/999 solicitado
2025-12-19 12:06:34,727 WARN c.n.r.c.GlobalExceptionHandler [main] Recurso no encontrado: UsuarioNoEncontradoException
2025-12-19 12:06:34,733 WARN c.n.r.c.GlobalExceptionHandler [main] Error de validación detectado: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.natalia.relab.dto.UsuarioOutDto> com.natalia.relab.controller.UsuarioController.agregarUsuario(com.natalia.relab.dto.UsuarioInDto) with 3 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],2147483647,4]; default message [La contraseña debe tener al menos 4 carácteres]] [Field error in object 'usuarioInDto' on field 'nickname': rejected value []; codes [NotBlank.usuarioInDto.nickname,NotBlank.nickname,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nickname,nickname]; arguments []; default message [nickname]]; default message [El nickname es un campo obligatorio]] [Field error in object 'usuarioInDto' on field 'email': rejected value [email-mal]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@4c5d1649,.*]; default message [El formato de email no es válido]] 
2025-12-19 12:06:34,738 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 999
2025-12-19 12:06:34,740 ERROR c.n.r.s.UsuarioService [main] Usuario con id 999 no encontrado
2025-12-19 12:06:34,743 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 999
2025-12-19 12:06:34,743 ERROR c.n.r.s.UsuarioService [main] Usuario 999 no encontrado para modificar
2025-12-19 12:06:34,746 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuarioExistente
2025-12-19 12:06:34,747 ERROR c.n.r.s.UsuarioService [main] Error: nickname usuarioExistente ya existe
2025-12-19 12:06:34,749 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=empresa, cuentaActiva=null
2025-12-19 12:06:34,754 INFO c.n.r.s.UsuarioService [main] Agregando usuario con nickname usuario1
2025-12-19 12:06:34,755 INFO c.n.r.s.UsuarioService [main] Usuario creado con id 42
2025-12-19 12:06:34,757 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=true
2025-12-19 12:06:34,760 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=null, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,763 INFO c.n.r.s.UsuarioService [main] Modificando usuario con id 5
2025-12-19 12:06:34,763 INFO c.n.r.s.UsuarioService [main] Usuario 5 modificado correctamente
2025-12-19 12:06:34,766 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,769 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,772 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 999
2025-12-19 12:06:34,772 ERROR c.n.r.s.UsuarioService [main] No se puede eliminar, el usuario 999 no existe
2025-12-19 12:06:34,774 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuario1, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,776 INFO c.n.r.s.UsuarioService [main] Buscando usuario por id 10
2025-12-19 12:06:34,780 INFO c.n.r.s.UsuarioService [main] Listando usuarios con filtros nickname=usuarioInexistente, tipoUsuario=null, cuentaActiva=null
2025-12-19 12:06:34,783 WARN c.n.r.s.UsuarioService [main] Eliminando usuario con id 10
2025-12-19 12:06:34,783 INFO c.n.r.s.UsuarioService [main] Usuario 10 eliminado
